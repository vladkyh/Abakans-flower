(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{2980:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Card",function(){return __webpack_require__(1077)}])},2491:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Card_Card}});var jsx_runtime=__webpack_require__(5893),MetaTags=__webpack_require__(4526),react=__webpack_require__(7294),es=__webpack_require__(9473),cardSlice=__webpack_require__(1991),Card_module=__webpack_require__(8369),Card_module_default=__webpack_require__.n(Card_module),CardItems=__webpack_require__(9797),js_cookie=__webpack_require__(1955);let RemoveCookie=(cookieName,usril)=>{js_cookie.Z.remove(cookieName,usril)};var classnames=__webpack_require__(4184),classnames_default=__webpack_require__.n(classnames),TotalInfo=__webpack_require__(1061);let Card=()=>{let{items,totalPrice}=(0,es.v9)(state=>state.card),[count,setCount]=(0,react.useState)(0),[price,setPrice]=(0,react.useState)(1),data=(0,es.v9)(state=>state.card.items),dispatch=(0,es.I0)(),onClickClear=()=>{RemoveCookie("yesyes"),dispatch((0,cardSlice.JY)())},[flowers,setFlowers]=(0,react.useState)([]);return((0,react.useEffect)(()=>{if(data){let totalCount=items.reduce((sum,items)=>sum+items.count,0);setCount(totalCount),setFlowers(data),setPrice(totalPrice)}},[data,totalPrice]),data)?(0,jsx_runtime.jsxs)("div",{className:Card_module_default().card,children:[(0,jsx_runtime.jsx)(MetaTags.Z,{title:"Корзина"}),(0,jsx_runtime.jsxs)("div",{className:Card_module_default().card__title,children:[(0,jsx_runtime.jsx)("h1",{className:Card_module_default().card__title_zak,children:"Корзина"}),price?(0,jsx_runtime.jsxs)("ul",{className:Card_module_default().card__ul,children:[flowers&&flowers.map(param=>{let{photo,id,name,count,desriptoin,price}=param;return(0,jsx_runtime.jsx)("li",{className:classnames_default()(count>0?Card_module_default().card_li:Card_module_default().card_li_none),children:(0,jsx_runtime.jsx)(CardItems.Z,{id:id,name:name,count:count,desriptoin:desriptoin,price:price,photo:photo})},id)}),(0,jsx_runtime.jsx)("button",{className:Card_module_default().card__button,onClick:onClickClear,children:"очистить"})]}):(0,jsx_runtime.jsx)("div",{children:"корзина пуста"})]}),(0,jsx_runtime.jsx)(TotalInfo.default,{price:price,count:count})]}):(0,jsx_runtime.jsx)("div",{children:"Корзина пуста"})};var Card_Card=Card},7303:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return TotalInfo_TotalInfo}});var jsx_runtime=__webpack_require__(5893),react=__webpack_require__(7294),TotalInfo_module=__webpack_require__(7711),TotalInfo_module_default=__webpack_require__.n(TotalInfo_module),CardOrder_module=__webpack_require__(3303),CardOrder_module_default=__webpack_require__.n(CardOrder_module);__webpack_require__(7555);var x=__webpack_require__(2144),next_image=__webpack_require__(5675),image_default=__webpack_require__.n(next_image);let CardOrder=param=>{let{active,setActive}=param,[name,setName]=(0,react.useState)(""),[phone,setPhone]=(0,react.useState)(""),[visible,setVisible]=(0,react.useState)(!0),focusCall=(0,react.useRef)(),focusOutside=(0,react.useRef)();(0,react.useEffect)(()=>{let handleClickOutside=event=>{focusOutside.current&&focusOutside.current.contains(event.target)&&(setActive(!1),console.log(active))};return document.body.addEventListener("click",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]);let onChangeInputName=event=>{setName(event.target.value)},onChangeInputPhone=event=>{setPhone(event.target.value)},closeCall=()=>{setActive(!1)};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:focusOutside,className:CardOrder_module_default().full_screen}),(0,jsx_runtime.jsxs)("div",{ref:focusCall,className:visible?CardOrder_module_default().callback:"display__none",children:[(0,jsx_runtime.jsx)("div",{className:CardOrder_module_default().close,children:(0,jsx_runtime.jsx)(image_default(),{onClick:()=>closeCall(),className:CardOrder_module_default().search__svg_close,src:x.Z,alt:"поиск"})}),(0,jsx_runtime.jsx)("h1",{className:CardOrder_module_default().callback__title,children:"Заказать обратный звонок"}),(0,jsx_runtime.jsx)("h2",{className:CardOrder_module_default().callback__text,children:"Введите свой номер телефона, и мы свяжемся с вами в самое ближайшее время"}),(0,jsx_runtime.jsxs)("form",{action:"#",method:"post",children:[(0,jsx_runtime.jsx)("input",{name:"name",onChange:onChangeInputName,value:name,className:CardOrder_module_default().search__input,type:"text",placeholder:"Ваше имя"}),(0,jsx_runtime.jsx)("input",{name:"phone",value:phone,onChange:onChangeInputPhone,className:CardOrder_module_default().search__input,type:"tel",placeholder:"Ваш номер телефона"}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("div",{className:CardOrder_module_default().checkbox,children:[(0,jsx_runtime.jsx)("div",{children:"Доставка (бесплатно при заказе от 3000)"}),(0,jsx_runtime.jsxs)("div",{className:CardOrder_module_default().checkbox__input,children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",name:"scales"}),(0,jsx_runtime.jsx)("label",{for:"scales",children:"Самовывоз"})]}),(0,jsx_runtime.jsxs)("div",{className:CardOrder_module_default().checkbox__i,children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",name:"scales"}),(0,jsx_runtime.jsx)("label",{for:"scales",children:"Доставка курьером по Новосибирску"})]}),(0,jsx_runtime.jsxs)("div",{className:CardOrder_module_default().checkbox__in,children:[(0,jsx_runtime.jsx)("input",{type:"checkbox",name:"scales"}),(0,jsx_runtime.jsx)("label",{for:"scales",children:"Доставка курьером по хакасии"})]})]}),(0,jsx_runtime.jsx)("input",{name:"name",onChange:onChangeInputName,value:name,className:CardOrder_module_default().search__input,type:"text",placeholder:"Дата получения или доставки"}),(0,jsx_runtime.jsx)("div",{children:"Подробности для доставки (при необходимости) "}),(0,jsx_runtime.jsx)("input",{name:"name",onChange:onChangeInputName,value:name,className:CardOrder_module_default().search__input,type:"text",placeholder:""}),(0,jsx_runtime.jsx)("div",{children:"Добавьте текст который мы напишем на открытке "}),(0,jsx_runtime.jsx)("textarea",{name:"comment",cols:"30",rows:"10"}),(0,jsx_runtime.jsx)("button",{className:CardOrder_module_default().callback__button,type:"submit",children:"Отправить"})]})]})]})},TotalInfo=param=>{let{price,count}=param,[active,setActive]=(0,react.useState)(!1),callBackActive=()=>{setActive(!active),console.log(active)};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:TotalInfo_module_default().total,children:[(0,jsx_runtime.jsxs)("div",{className:TotalInfo_module_default().card__price,children:["Общая цена:",(0,jsx_runtime.jsxs)("span",{children:[price,"р."]})]}),(0,jsx_runtime.jsxs)("div",{className:TotalInfo_module_default().card__count,children:["Всего товаров:",(0,jsx_runtime.jsxs)("span",{children:[count,"шт."]})]}),(0,jsx_runtime.jsxs)("div",{className:TotalInfo_module_default().card__dost,children:[(0,jsx_runtime.jsx)("strong",{className:TotalInfo_module_default().card__dost,children:"Доставка: "}),(0,jsx_runtime.jsx)("span",{className:TotalInfo_module_default().card__dost__choose,children:"Выбрать адрес доставки"})]}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("button",{onClick:()=>callBackActive(),className:TotalInfo_module_default().card__button,children:"Заказать"})}),(0,jsx_runtime.jsx)("div",{className:TotalInfo_module_default().card__count,children:(0,jsx_runtime.jsxs)("label",{children:[(0,jsx_runtime.jsx)("input",{type:"checkbox"}),"Согласен с условиями Правил пользования ",(0,jsx_runtime.jsx)("br",{})," торговой площадкой и правилами возврата"]})})]}),active&&(0,jsx_runtime.jsx)(CardOrder,{active:active,setActive:setActive})]})};var TotalInfo_TotalInfo=TotalInfo},1061:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return _TotalInfo__WEBPACK_IMPORTED_MODULE_0__.default}});var _TotalInfo__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7303)},1077:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return _Card__WEBPACK_IMPORTED_MODULE_0__.default}});var _Card__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2491)},3303:function(module){module.exports={callback:"CardOrder_callback__amGN0",callback__title:"CardOrder_callback__title__pOUEE",callback__text:"CardOrder_callback__text__k2mXb",callback__input:"CardOrder_callback__input___5lku",callback__p:"CardOrder_callback__p__VQpbk",callback__button:"CardOrder_callback__button__R56OB",search__input:"CardOrder_search__input__QgIRK",close:"CardOrder_close__8PlvF",search__svg_close:"CardOrder_search__svg_close__W7pmo",full_screen:"CardOrder_full_screen__U_S8q",checkbox:"CardOrder_checkbox__k2cjT",checkbox__input:"CardOrder_checkbox__input__0p_gw",checkbox__i:"CardOrder_checkbox__i__LBIx_",checkbox__in:"CardOrder_checkbox__in__v4U_2"}},8369:function(module){module.exports={card:"Card_card__qhcdI",card_li_none:"Card_card_li_none__2tsvW",card_li:"Card_card_li__SirXs",card__title:"Card_card__title__zLvQq",card__ul:"Card_card__ul__Q_T_G",card__button:"Card_card__button__NA0vU"}},7711:function(module){module.exports={total:"TotalInfo_total__PMYxb",card__price:"TotalInfo_card__price__mEiDy",card__count:"TotalInfo_card__count__mDMRo",card__dost:"TotalInfo_card__dost__ukq_T",card__dost__choose:"TotalInfo_card__dost__choose__6Vrul",card__button:"TotalInfo_card__button__KAju8"}}},function(__webpack_require__){__webpack_require__.O(0,[555,774,888,179],function(){return __webpack_require__(__webpack_require__.s=2980)}),_N_E=__webpack_require__.O()}]);